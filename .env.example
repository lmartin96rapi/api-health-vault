# ===========================================
# Health Insurance API - Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# Environment (development, staging, production)
ENVIRONMENT=development

# ===========================================
# Database Configuration
# ===========================================
# SQLite (development)
DATABASE_URL=sqlite+aiosqlite:///./data/health_insurance.db

# PostgreSQL (production)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/health_insurance

# Connection pool settings (PostgreSQL only)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===========================================
# Security - JWT
# ===========================================
# REQUIRED: Secret key for JWT token generation (use a long random string)
SECRET_KEY=your-super-secret-key-change-this-in-production

# JWT algorithm and expiration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ===========================================
# Security - Google OAuth2
# ===========================================
# REQUIRED: Get these from Google Cloud Console
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# ===========================================
# File Storage
# ===========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
MAX_REQUEST_SIZE=52428800
ALLOWED_FILE_TYPES=["application/pdf","image/jpeg","image/png","image/jpg"]

# ===========================================
# External APIs - Backend API
# ===========================================
# REQUIRED: Backend API configuration
BACKEND_API_URL=https://api.backend.example.com
BACKEND_API_KEY=your-backend-api-key
BACKEND_API_TIMEOUT=30
BACKEND_API_RETRY_ATTEMPTS=3
ORGANIZATION_ID=305

# Base URL for this API (used for generating document URLs)
API_BASE_URL=http://localhost:8000

# ===========================================
# External APIs - WhatsApp API
# ===========================================
# REQUIRED: WhatsApp API configuration
WSP_API_URL=https://api.whatsapp.example.com
WSP_API_KEY=
WSP_API_OAUTH_TOKEN=
WSP_API_TIMEOUT=30
WSP_API_RETRY_ATTEMPTS=3

# ===========================================
# Server Configuration
# ===========================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ===========================================
# Form Configuration
# ===========================================
FORM_EXPIRATION_HOURS=24
ACCESS_LINK_EXPIRATION_HOURS=24

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO
LOG_DIR=./logs
LOG_RETENTION_DAYS=30
LOG_MASK_SENSITIVE=true
LOG_ENABLE_REQUEST_LOGGING=true

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_AUTH=5/minute
RATE_LIMIT_FORMS=10/minute
RATE_LIMIT_STORAGE_URI=memory://

# ===========================================
# CSRF Protection
# ===========================================
CSRF_ENABLED=true
CSRF_SECRET=

# ===========================================
# Circuit Breaker
# ===========================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3
